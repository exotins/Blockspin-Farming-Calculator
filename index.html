<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Blockspin Farming Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  * { box-sizing: border-box; font-family: "Arial Rounded MT Bold", Arial, sans-serif; }
  body {
    margin: 0;
    background: linear-gradient(180deg, #1a1a1a, #0b0b0b);
    color: #ffffff;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 40px;
  }

  .calculator {
    width: 100%;
    max-width: 700px;
    background: #1b1b1b;
    border-radius: 25px;
    padding: 40px 50px;
    box-shadow: 0 0 15px #1db954, 0 0 20px #ff4c4c;
  }

  h2 { text-align: center; margin-bottom: 12px; color: #1db954; font-size: 28px; letter-spacing: 0.5px; }
  .subtitle { text-align: center; font-size: 16px; opacity: 0.85; margin-bottom: 30px; color: #ff4c4c; }

  label { font-size: 16px; margin-top: 20px; display: block; opacity: 0.9; }
  select, input {
    width: 100%;
    padding: 14px;
    margin-top: 8px;
    background: #2b2b2b;
    border: 2px solid #3c3c3c;
    border-radius: 14px;
    color: #fff;
    font-size: 18px;
  }

  .time-inputs { display: flex; gap: 12px; margin-top: 8px; flex-wrap: wrap; }

  button {
    width: 100%;
    margin-top: 20px;
    padding: 16px;
    font-size: 18px;
    font-weight: bold;
    border-radius: 16px;
    border: none;
    cursor: pointer;
    transition: transform 0.1s;
  }
  #calculateBtn { background: #1db954; color: #000; }
  #startTimerBtn { background: #ff4c4c; color: #fff; margin-top: 12px; }
  button:active { transform: scale(0.97); }

  .result {
    margin-top: 24px;
    background: #2a2a2a;
    border-radius: 16px;
    padding: 16px;
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: #1db954;
  }

  .timer-container {
    margin-top: 20px;
    background: #2a2a2a;
    border-radius: 16px;
    padding: 10px;
  }

  .timer-text {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: #ff4c4c;
    margin-bottom: 8px;
    transition: color 0.3s ease;
  }

  .progress-bar {
    width: 100%;
    background: #3c3c3c;
    height: 18px;
    border-radius: 12px;
    overflow: hidden;
  }
  .progress-fill {
    height: 100%;
    width: 0%;
    background: #1db954;
    border-radius: 12px;
    transition: width 0.5s linear;
  }

  .footer { margin-top: 20px; text-align: center; font-size: 13px; opacity: 0.6; }

  .tips { background: #2a2a2a; padding: 16px; border-radius: 16px; margin-top: 30px; font-size: 14px; }
  .tips h3 { margin: 0 0 8px 0; color: #1db954; font-size: 16px; }
  .tips ul { padding-left: 22px; margin: 0; }
  .tips li { margin-bottom: 6px; }

  @media (max-width: 600px) {
    .calculator { padding: 20px; }
    h2 { font-size: 24px; }
    .subtitle { font-size: 14px; }
    select, input { font-size: 16px; padding: 12px; }
    button { font-size: 16px; padding: 14px; }
    .result, .timer-text { font-size: 18px; }
    .tips { font-size: 13px; padding: 12px; }
  }
</style>
</head>
<body>

<div class="calculator">

  <h2>Blockspin Farming Calculator</h2>
  <div class="subtitle">6 Dim Pots ‚Ä¢ Roblox Farming</div>

  <label>Crop</label>
  <select id="crop" onchange="updateInputFields()">
    <option value="tomatoes">üçÖ Tomatoes</option>
    <option value="corn">üåΩ Corn</option>
    <option value="sunflowers">üåª Sunflowers</option>
  </select>

  <label id="time-label">Time Farmed</label>
  <div class="time-inputs" id="time-inputs"></div>

  <button id="calculateBtn" onclick="calculate()">CALCULATE</button>
  <button id="startTimerBtn" onclick="startCountdown()">START TIMER</button>

  <div class="result" id="result">Profit: ‚Äî</div>

  <div class="timer-container">
    <div class="timer-text" id="countdown">‚è± Crop Ready In: ‚Äî</div>
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
  </div>

  <div class="tips">
    <h3>üí° Tips & Tricks</h3>
    <ul>
      <li>Tomatoes are more profitable if planted with premium soil.</li>
      <li>Corn is best used if you want to fight or take a break for a little.</li>
      <li>Sunflowers make the most money if you farm the entire time.</li>
      <li>Diamond pots are most beneficial when used with sunflowers.</li>
    </ul>
  </div>

  <div class="footer">6 Dim Pots Only</div>
</div>

<script>
  let cropTimeHours = 0;
  let countdownInterval;
  let totalSecondsGlobal = 0;

  function updateInputFields() {
    const crop = document.getElementById('crop').value;
    const label = document.getElementById('time-label');
    const inputs = document.getElementById('time-inputs');

    if (crop === 'tomatoes') {
      label.textContent = 'Days Farmed (whole numbers only)';
      inputs.innerHTML = `<input type="number" id="days" placeholder="Days" min="1" step="1">`;
    } else if (crop === 'corn') {
      label.textContent = 'Hours Farmed (whole numbers only)';
      inputs.innerHTML = `<input type="number" id="hours" placeholder="Hours" min="1" step="1">`;
    } else if (crop === 'sunflowers') {
      label.textContent = 'Time Farmed (minutes in multiples of 10)';
      inputs.innerHTML = `
        <input type="number" id="hours" placeholder="Hours" min="0" step="1">
        <input type="number" id="minutes" placeholder="Minutes (10,20,30‚Ä¶)" min="0" max="50" step="10">
      `;
    }
    document.getElementById('countdown').textContent = '‚è± Crop Ready In: ‚Äî';
    document.getElementById('progressFill').style.width = '0%';
  }

  function calculate() {
    const crop = document.getElementById('crop').value;
    const result = document.getElementById('result');
    let totalHours = 0;

    if (crop === 'tomatoes') {
      const days = parseInt(document.getElementById('days').value, 10);
      if (!days || days < 1) { result.textContent = 'Enter valid whole days'; return; }
      totalHours = days * 24;
      cropTimeHours = totalHours;
    } else if (crop === 'corn') {
      const hours = parseInt(document.getElementById('hours').value, 10);
      if (!hours || hours < 1) { result.textContent = 'Enter valid hours'; return; }
      totalHours = hours;
      cropTimeHours = totalHours;
    } else if (crop === 'sunflowers') {
      const hours = parseInt(document.getElementById('hours').value, 10) || 0;
      const minutes = parseInt(document.getElementById('minutes').value, 10) || 0;
      if (minutes % 10 !== 0) { result.textContent = 'Minutes must be multiples of 10'; return; }
      if (hours === 0 && minutes < 10) { result.textContent = 'Enter at least 10 minutes'; return; }
      totalHours = hours + minutes / 60;
      cropTimeHours = totalHours;
    }

    let profit = 0;
    if (crop === 'tomatoes') profit = (199200 / 24) * totalHours;
    else if (crop === 'corn') profit = 45450 * totalHours;
    else if (crop === 'sunflowers') profit = 17268 * (totalHours * 6);

    result.textContent = `Profit: ${Math.floor(profit).toLocaleString()}`;
    document.getElementById('countdown').textContent = '‚è± Crop Ready In: ‚Äî';
    document.getElementById('progressFill').style.width = '0%';
  }

  function startCountdown() {
    if (cropTimeHours <= 0) return;
    totalSecondsGlobal = Math.floor(cropTimeHours * 3600);
    let remaining = totalSecondsGlobal;
    const countdownElement = document.getElementById('countdown');
    const progressFill = document.getElementById('progressFill');
    clearInterval(countdownInterval);

    countdownInterval = setInterval(() => {
      const h = Math.floor(remaining / 3600);
      const m = Math.floor((remaining % 3600) / 60);
      const s = remaining % 60;
      countdownElement.textContent = `‚è± Crop Ready In: ${h}h ${m}m ${s}s`;

      // Progress bar update
      const percent = ((totalSecondsGlobal - remaining) / totalSecondsGlobal) * 100;
      progressFill.style.width = `${percent}%`;

      // Flash red if < 1 minute
      if (remaining <= 60) {
        countdownElement.style.color = remaining % 2 === 0 ? '#ff4c4c' : '#ffffff';
      } else {
        countdownElement.style.color = '#ff4c4c';
      }

      remaining--;
      if (remaining < 0) {
        clearInterval(countdownInterval);
        countdownElement.textContent = '‚úÖ Ready!';
        countdownElement.style.color = '#1db954';
        progressFill.style.width = '100%';
      }
    }, 1000);
  }

  updateInputFields();
</script>

</body>
</html>
